# Neotypa Booktabs

A self-hosted bookmark manager with tabbed and hierarchical views.

**Features:**
- Tabbed + grouped view for organizing bookmarks in folders with grouped cards
- Hierarchical view for navigating nested folder structures
- Import/Export bookmarks in Netscape format (compatible with all browsers)
- Multi-user support with secure authentication
- SQLite file storage (no database service required)
- Simple deployment (Node.js only)

**Demo Video:**
https://github.com/user-attachments/assets/0a212cb8-3fc9-418d-8645-7922b4f44d61

## Tech Stack

- **Frontend**: TypeScript, Tailwind CSS, daisyUI
- **Backend**: Node.js, no additional framework
- **Database**: SQLite via sql.js (single file, no service required)
- **Security**: bcrypt password hashing, session-based authentication

## Quick start

```bash
# Install dependencies
npm install

# Run development mode (hot reload)
npm run dev
```

Open [http://localhost:8787](http://localhost:8787)

See [doc/getting-started.md](doc/getting-started.md) for detailed setup instructions.

## Build + run (production mode)

```pwsh
# Install dependencies
npm install

# Build everything (client + server)
npm run build

# Run the built server
npm run start
```

By default, the server serves the built client from `dist/client`.

## Configuration

Environment variables (create a `.env` file from `.env.example`):
- `PORT` (default: `8787`)
- `DB_PATH` (default: `./data/app.sqlite`)
- `PUBLIC_DIR` (default: `./dist/client`)
- `NODE_ENV` (set to `production` for secure cookies)

## Features

### Authentication
- Secure password hashing with bcrypt
- Session-based authentication with HTTP-only cookies
- Automatic session expiration (30 days)
- Multi-user support

### Bookmarks
- **Two view modes**: Switch between tabbed and hierarchical views
- **Drag and drop**: Reorder bookmarks, groups, and folders
- **Tags**: Multiple tags per bookmark
- **Fields**: URL, title, description, tags
- **Organization**: Folders → Groups → Bookmarks
- **Import/Export**: Netscape format support for migrating from browsers

### Themes
- All daisyUI themes included
- User preference persistence
- Easy theme switching from UI

## Project Structure

```
neotypa-booktabs/
├── src/                 # All source code
│   ├── client/          # Frontend (TypeScript SPA)
│   ├── server/          # Backend (Node.js server)
│   │   └── test/        # Server tests
│   └── shared/          # Shared types
├── scripts/             # Build and utility scripts
├── doc/                 # Documentation
├── data/                # SQLite database (created on first run)
└── dist/                # Built output (generated by build)
```

## Documentation

- **[Getting Started](doc/getting-started.md)** - Setup and development guide
- **[Deployment Guide](doc/deployment.md)** - Production deployment instructions
- **[Migration Guide](doc/migration.md)** - Database migration procedures
- **[Architecture](doc/architecture.md)** - System design and components
- **[Database Schema](doc/database.md)** - ERD and table structures
- **[Object Model](doc/object-model.md)** - Type definitions and data structures
- **[Initial Design](doc/initial-design.md)** - Original requirements and goals

## Development Scripts

```bash
npm run dev           # Run dev mode (both client & server)
npm run dev:client    # Run client dev server only
npm run dev:server    # Run server dev mode only
npm run build         # Build everything
npm run build:client  # Build client only
npm run build:server  # Build server only
npm run start         # Run production server
npm run test          # Run tests
npm run clean         # Clean build artifacts
```

## Testing

```bash
npm run test
```

Tests cover database operations, authentication, and API functionality.

## Why This Stack?

### No Framework Backend
- **Simple**: Just Node.js `http` module with a lightweight router
- **No Dependencies**: No Express, Koa, or heavyweight frameworks
- **Easy Deploy**: Fewer dependencies = simpler deployment
- **Full Control**: Understand exactly what your server does

### SQLite via sql.js
- **Single File**: Database is just `data/app.sqlite`
- **No Service**: No MySQL, PostgreSQL, or MongoDB to install
- **Portable**: Copy the file = copy the entire database
- **Concurrent Safe**: File locking ensures data integrity

### TypeScript Everywhere
- **Type Safety**: Catch errors at compile time
- **Shared Types**: Same types on client and server
- **Better IDE**: Autocomplete and refactoring support
- **Compiles to JS**: Production runs pure JavaScript

## Contributing

See [CONTRIBUTING.md](CONTRIBUTING.md) for development guidelines and how to contribute.

## Changelog

See [CHANGELOG.md](CHANGELOG.md) for version history and changes.

## License

MIT License - See [LICENSE](LICENSE) for details.

Personal use project. See initial requirements in [doc/initial-design.md](doc/initial-design.md).
